"use strict";var _require=require("path"),resolve=_require.resolve,MiniCssExtractPlugin=require("mini-css-extract-plugin"),OptimizeCssAssetsWebpackPlugin=require("optimize-css-assets-webpack-plugin"),HtmlWebpackPlugin=require("html-webpack-plugin");process.env.NODE_ENV="production";var commonCssLoader=[MiniCssExtractPlugin.loader,"css-loader",{loader:"postcss-loader",options:{ident:"postcss",plugins:function(){return[require("postcss-preset-env")()]}}}];module.exports={entry:"./src/js/index.js",output:{filename:"js/build.js",path:resolve(__dirname,"build")},module:{rules:[{test:/\.css$/,use:[].concat(commonCssLoader)},{test:/\.less$/,use:[].concat(commonCssLoader,["less-loader"])},{test:/\.js$/,exclude:/node_modules/,enforce:"pre",loader:"eslint-loader",options:{fix:!0}},{test:/\.js$/,exclude:/node_modules/,loader:"babel-loader",options:{presets:["@babel/preset-env",{useBuiltIns:"usage",corejs:{version:3},targets:{chrome:"60",firefox:"60"}}]}},{test:/\.(jpg|png|gif)$/,loader:"url-loader",options:{limit:8192,name:"[hash:10].[ext]",outputPath:"imgs",esModule:!1}},{test:/\.html$/,loader:"html-loader"},{exclude:/\.(js|css|less|html|jpg|png|gif)/,loader:"file-loader",options:{outputPath:"media",name:"[hash:10].[ext]"}}]},plugins:[new MiniCssExtractPlugin({filename:"css/build.css"}),new OptimizeCssAssetsWebpackPlugin,new HtmlWebpackPlugin({template:"./src/index.html",minify:{collapseWhitespace:!0,removeComments:!0}})],mode:"production"};